@model EventManagement.Areas.EventManagement.ViewModels.ResponseAttendanceViewModels
@{
    Layout = null;
}
<section class="content-header">
    <h1>
        Attendance
        <small>preview of attendance index</small>
    </h1>
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i>Home</a></li>
        <li><a href="#">Attendance</a></li>
        <li class="active">Attendances</li>
    </ol>
</section>

<!-- Main content -->
<section class="content">
    <div class="row">
        <div class="col-md-12">
            <div class="box">
                <!-- /.box-header -->
                <div class="box-body">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th style="width: 10px">#</th>
                                <th>Name</th>
                                <th>Date</th>
                                <th>In Time</th>
                                <th>Out Time</th>
                                <th>Total Hour</th>
                                <th>Remove</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model.Attendances)
                            {
                                <tr>
                                    <td>@item.SerialNumber</td>
                                    <td>@item.EmployeeFirstName @item.EmployeeLastName</td>
                                    <td>@item.AttendanceDate.ToShortDateString()</td>
                                    <td>@item.InTime.ToShortTimeString()</td>
                                    <td>@item.OutTime.ToShortTimeString()</td>
                                    <td>@item.TotalHour</td>
                                    <td><a href="#" onclick="valDelete(@item.AttendanceId)"><i class="fa fa-trash" style="color:red; font-size:15px;"></i></a></td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
                <!-- /.box-body -->
                <div class="box-footer clearfix">

                    <ul class="pagination pagination-sm no-margin pull-right">
                        <li><a href="#">&laquo;</a></li>
                        <li><a href="#">1</a></li>
                        <li><a href="#">2</a></li>
                        <li><a href="#">3</a></li>
                        <li><a href="#">&raquo;</a></li>
                    </ul>
                </div>
            </div>
            <!-- /.box -->
        </div>
        <!-- /.col -->

    </div>
</section>
@section Scripts{
    <script>
        function valDelete(valId) {
            var result = confirm("Do you want to delete this men");
            if (result) {
                $('#dvLoader').show();
                $.ajax({
                    url: "/EventManagementData/DeleteAttendance?id=" + valId,
                    type: "POST",
                    dataType: "json",
                    contentType: "application/json; charset=utf-8",
                    success: function (json) {
                        if (json.isRedirect) {
                            window.location.href = json.redirectUrl;
                        }
                        $('#dvLoader').hide();
                    }
                });
            }
        };
    </script>
}